// GENERATED BY PARAMORPH //

// CONFIG //
const config = {
  "title": "Test"
};

// PARAMORPH //
const paramorph = new Paramorph(config);

// LAYOUTS //
paramorph.addLayout(
  new Layout(
    "default",
    "./_layouts/default.ts",
  )
);

// INCLUDES //
paramorph.addInclude(
  new Include(
    "BreadCrumbs",
    "./_includes/BreadCrumbs/index.ts",
  )
);

// COLLECTIONS //
paramorph.addCollection(
  new Collection(
    "pages",
    "Pages",
    "./_pages",
    undefined,
    undefined,
    undefined,
  )
);
paramorph.addCollection(
  new Collection(
    "posts",
    "Posts",
    "./_posts",
    undefined,
    undefined,
    undefined,
  )
);

// PAGES //
paramorph.addPage(
  new Page(
    "/",
    "Home",
    "This is a test page",
    "http://some.address/image.jpg",
    "Pages",
    "default",
    "./index.markdown",
    true,
    false,
    5,
    ["Do It Yourself!"],
    ["exciting"],
    0,
  )
);

// CATEGORIES //
paramorph.addPage(
  new Category(
    "/diy",
    "Do It Yourself!",
    "Yes, you can!",
    "http://some.address/diy.jpg",
    "Posts",
    "default",
    "./diy.markdown",
    true,
    true,
    5,
    [],
    [],
    1,
  )
);

// PAGES IN CATEGORIES //
paramorph.categories["Do It Yourself!"].pages.push(paramorph.pages["/"]);

// TAGS //
paramorph.addPage(
  new Tag(
    "/tags/exciting",
    "exciting",
    "This is an exciting tag.",
    "http://some.address/exciting.jpg",
    "default",
    "./tag.markdown",
    true,
    5,
    2,
  )
);

// PAGES IN TAGS //
paramorph.tags["exciting"].pages.push(paramorph.pages["/"]);

// LAYOUT LOADERS //
paramorph.addLayoutLoader("default", () => asReactComponent(import("@website/_layouts/default.ts"), "./_layouts/default.ts"));

// INCLUDE LOADERS //
paramorph.addIncludeLoader("BreadCrumbs", () => asReactComponent(import("@website/_includes/BreadCrumbs/index.ts"), "./_includes/BreadCrumbs/index.ts"));

// PAGE LOADERS //
paramorph.addPageLoader("/", () => asReactComponent(import("@website/index.markdown"), "./index.markdown"));
paramorph.addPageLoader("/diy", () => asReactComponent(import("@website/diy.markdown"), "./diy.markdown"));
paramorph.addPageLoader("/tags/exciting", () => asReactComponent(import("@website/tag.markdown"), "./tag.markdown"));

// UTIL FUNCTIONS
function asReactComponent(exports, url) {
  if (exports.default === undefined) {
    throw new Error(url +' must have a default export');
  }
  const candidate = exports.default;

  if (React.isValidElement(candidate) && typeof candidate.type === 'function') {
    const got = JSON.stringify(candidate);
    throw new Error(url +' must have react component as default export; got '+ got);
  }
  return exports.default;
}

